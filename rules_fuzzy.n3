@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix list: <http://www.w3.org/2000/10/swap/list#> .
@prefix log: <http://www.w3.org/2000/10/swap/log#> . 
@prefix ai: <http://example.org/input#> .
@prefix airo: <https://w3id.org/airo#> .
@prefix vair: <https://w3id.org/vair#> .

# Testing Data
# ai:System airo:hasDomain vair:CriticalInfrastructure .
# ai:System airo:hasPurpose vair:Analytics .
airo:AIAct-TestAnnex rdfs:label "Test Annex" .

# AI Act Annex clause labels
airo:AIAct-AnnexIII1a rdfs:label "Annex III 1-a" .
airo:AIAct-AnnexIII1b rdfs:label "Annex III 1-b" .
airo:AIAct-AnnexIII2a rdfs:label "Annex III 2-a" .
airo:AIAct-AnnexIII3a rdfs:label "Annex III 3-a" .
# AI Act prohibited clauses
airo:AIAct-51f rdfs:label "Art.5-1f" .

# III-1a
{
    ai:System airo:hasPurpose ?purpose .
    ?purpose list:in ( vair:GeneralPurpose vair:RemoteIdentification ) .
    ai:System airo:hasCapability ?capability .
    ?capability list:in ( vair:GeneralCapability vair:BiometricIdentification  ) .
    ai:System airo:hasSubject ?subject . 
    ?subject list:in ( vair:GeneralSubject vair:NaturalPerson ) .
} => {
    ai:System airo:canBeHighRiskBy airo:AIAct-AnnexIII1a .
} .
# III-1b
{
    ai:System airo:hasPurpose ?purpose .
    ?purpose list:in ( vair:GeneralPurpose vair:Categorisation ) .
    ai:System airo:hasCapability ?capability .
    ?capability list:in ( vair:GeneralCapability vair:BiometricCategorisation vair:SensitiveAttributeInference ) .
    ai:System airo:hasSubject ?subject . 
    ?subject list:in ( vair:GeneralSubject vair:NaturalPerson ) .
} => {
    ai:System airo:canBeHighRiskBy airo:AIAct-AnnexIII1b .
} .
# 5-1f
{
    ai:System airo:hasDomain ?domain .
    ?domain list:in ( vair:GeneralDomain vair:Employment vair:Education ) .
    ai:System airo:hasCapability ?capability .
    ?capability list:in (vair:GeneralCapability vair:EmotionRecognition ) .
    ai:System airo:hasSubject ?subject . 
    ?subject list:in ( vair:GeneralSubject vair:NaturalPerson ) .
    _:t log:notIncludes  { 
        ai:System airo:hasProhibitionExemptedBy airo:AIAct-51f } .
} => {
    ai:System airo:canBeProhibitedBy airo:AIAct-51f .
} .
# 5-1f exemption
{
    ai:System airo:canBeProhibitedBy airo:AIAct-51f .
    ai:System airo:hasPurpose ?purpose .
    ?purpose list:in ( vair:GeneralPurpose vair:AssessingHealthRisk ) .
} => {
    ai:System airo:canBeProhibitionExemptedBy airo:AIAct-51f .
} .
